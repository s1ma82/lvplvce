import{r as e,b as t,j as n,f as o,h as s,a as c}from"./index-58083070.js";const r=()=>{const[r,u]=((t=[],n=!1,o=null)=>{const[s,c]=e.useState(n);return e.useEffect((()=>{const e=s=>{if(t){let e=t.length;for(let n of t)s.target.closest(n)&&e--;if(e!==t.length)return}document.removeEventListener("mousedown",e),document.removeEventListener("keydown",n),"function"==typeof o?o():c(!1)},n=t=>{27===t.keyCode&&(document.removeEventListener("mousedown",e),document.removeEventListener("keydown",n),"function"==typeof o?o():c(!1))};return()=>{document.addEventListener("mousedown",e),document.addEventListener("keydown",n)}}),[s,c]),[s,c]})(["#context-menu"]),[l,i]=e.useState(),d=t(),m=e.useRef();function a(e){const t=e.target.closest("[data-context]");if(!t)return;e.preventDefault();const n=m.current;if(!n)return;const{pageX:o,pageY:s}=e;o+150>document.documentElement.scrollWidth?n.style.left=document.documentElement.scrollWidth-200+"px":n.style.left=o+"px",s+200>document.documentElement.scrollHeight?n.style.top=document.documentElement.scrollHeight-250+"px":n.style.top=s+"px",i(t),u(!0)}return e.useEffect((()=>{document.addEventListener("contextmenu",a)}),[]),n.jsxs("div",{id:"context-menu",ref:m,className:[o.contextMenu,r?o.active:""].join(" "),children:[l?function(){const e=new URL(l.getAttribute("href")).hostname;return n.jsxs("span",{className:o.name,children:["[",e,"]"]})}():null,n.jsxs("ul",{className:o.list,children:[n.jsx("li",{onClick:function(){d(c({type:"editBookmark",data:l.getAttribute("href")})),u(!1)},className:`${o.item} ${o.edit}`,children:"Edit"}),n.jsx("li",{onClick:function(){d(s(l.getAttribute("href"))),u(!1)},className:o.item,children:"Delete"})]})]})};export{r as default};
